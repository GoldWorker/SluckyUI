(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{BToP:function(e,t,r){"use strict";(function(e){var c,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(c=r("0cfB").enterModule)&&c(e),Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var c=t[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}return function(t,r,c){return r&&e(t.prototype,r),c&&e(t,c),t}}();!function(){var t=r("0cfB").enterModule;t&&t(e)}();var i=r("q1tI"),l=o(i),a=o(r("IujW"));function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":s(t))&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(e){u(this,t);var r=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={title:"",content:"",id:""},r.params=new URLSearchParams(location.search),r.artId=r.params.get("id")||"",r}return f(t,i.Component),n(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){if(this.artId){var e=this.props.fetchData;e&&e(this.artId)}}},{key:"componentWillReceiveProps",value:function(e){var t=e.item,r=t.title,c=t.content,s=t.id;this.setState({title:r,content:c,id:s})}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"componentWillUpdate",value:function(e){}},{key:"componentDidUpdate",value:function(){}},{key:"handleTitleChange",value:function(e){this.setState({title:e.target.value})}},{key:"handleInputChange",value:function(e){this.setState({content:e.target.value})}},{key:"checkData",value:function(e){e.preventDefault();var t=this.props,r=t.handlePublicClick,c=t.handleClickUpdate;this.state.title&&this.state.content&&(this.artId?c(this.state):r(this.state))}},{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement("div",{className:"d-f editor-tool"},l.default.createElement("input",{type:"text",onChange:this.handleTitleChange.bind(this),className:"input w-full input-normal bg-w",value:this.state.title,maxLength:"50",placeholder:"Title",required:!0}),l.default.createElement("button",{className:"tag-text plr16 s0",onClick:this.checkData.bind(this)},"发布文章")),l.default.createElement("form",{className:"editor-box"},l.default.createElement("textarea",{placeholder:"# Press something what you think......",className:"textarea editor-input box",autoFocus:!0,value:this.state.content,onChange:this.handleInputChange.bind(this),required:!0}),l.default.createElement("div",{className:"editor-output box textarea"},l.default.createElement(a.default,{source:this.state.content}))))}}]),t}();d.defaultProps={item:{id:"",title:"",content:"# Loding..."}};var h,y,k=d;t.default=k,h=r("0cfB").default,y=r("0cfB").leaveModule,h&&(h.register(d,"ArticleEditer","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/display-articlePublish.jsx"),h.register(k,"default","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/display-articlePublish.jsx"),y(e)),function(){var t=r("0cfB").default,c=r("0cfB").leaveModule;t&&(t.register(n,"_createClass","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/display-articlePublish.jsx"),t.register(l,"_react2","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/display-articlePublish.jsx"),t.register(a,"_reactMarkdown2","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/display-articlePublish.jsx"),t.register(o,"_interopRequireDefault","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/display-articlePublish.jsx"),t.register(u,"_classCallCheck","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/display-articlePublish.jsx"),t.register(p,"_possibleConstructorReturn","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/display-articlePublish.jsx"),t.register(f,"_inherits","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/display-articlePublish.jsx"),t.register(d,"ArticleEditer","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/display-articlePublish.jsx"),t.register(k,"_default","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/display-articlePublish.jsx"),c(e))}()}).call(this,r("YuTi")(e))},KbQq:function(e,t,r){"use strict";(function(e){var c;Object.defineProperty(t,"__esModule",{value:!0}),t.putArticle=t.publishArticle=void 0,(c=r("0cfB").enterModule)&&c(e);var s=function(e){return e&&e.__esModule?e:{default:e}}(r("LpSC")),n=r("Kf89"),i=r("wNa6");var l,a,o=function(e){return{type:"PUBLIC_ARTICLE_SUCCESS",info:e}},u=function(e){return{type:"PUBLIC_ARTICLE_ERROR",error:e}},p=function(e){return{type:"UPDATE_ARTICLE_SUCCESS",info:e}},f=function(e){return{type:"UPDATE_ARTICLE_ERROR",error:e}},d=t.publishArticle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){(0,s.default)(__API__.articleEdit,{method:"POST",credentials:"include",body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){e.error?(t(u(e)),t((0,n.pushInQueue)({info:"No Access",flag:"hint"}))):(t(o(e)),t((0,n.pushInQueue)({info:"Publish Article Success",flag:"success"})))}).catch(function(e){t(u(e)),t((0,n.pushInQueue)({info:"Internet Error",flag:"warning"}))})}},h=t.putArticle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){(0,s.default)(__API__.articleEdit,{method:"PUT",credentials:"include",body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){e.error?(t(f(e)),t((0,n.pushInQueue)({info:"No Access",flag:"hint"}))):(t(p(e)),t((0,n.pushInQueue)({info:"Update Article Success",flag:"success"})))}).catch(function(e){t(f(e)),t((0,n.pushInQueue)({info:"Internet Error",flag:"warning"}))})}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isPublish:!1,isUpdate:!1},t=arguments[1];switch(t.type){case"PUBLIC_ARTICLE_SUCCESS":return Object.assign({},e,{isPublish:!0,info:t.info});case"PUBLIC_ARTICLE_ERROR":return Object.assign({},e,{isPublish:!1,info:t.info});case"UPDATE_ARTICLE_SUCCESS":return Object.assign({},e,{isUpdate:!0,info:t.info});case"UPDATE_ARTICLE_ERROR":return Object.assign({},e,{isUpdate:!1,info:t.info});default:return e}};(0,i.addReducer)(y,"articlePublicReducer"),l=r("0cfB").default,a=r("0cfB").leaveModule,l&&(l.register(d,"publishArticle","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/data-articlePublish.js"),l.register(h,"putArticle","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/data-articlePublish.js"),l.register(o,"postSuccess","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/data-articlePublish.js"),l.register(u,"postError","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/data-articlePublish.js"),l.register(p,"putSuccess","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/data-articlePublish.js"),l.register(f,"putError","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/data-articlePublish.js"),l.register(y,"articlePublicReducer","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/data-articlePublish.js"),a(e))}).call(this,r("YuTi")(e))},"VOy+":function(e,t,r){"use strict";(function(e){var c;Object.defineProperty(t,"__esModule",{value:!0}),(c=r("0cfB").enterModule)&&c(e);var s=r("/MKj"),n=r("KbQq"),i=r("Zm9/"),l=function(e){return e&&e.__esModule?e:{default:e}}(r("BToP"));var a,o,u=function(e){return{item:e.articleDetailReducer.item}},p=function(e){return{handlePublicClick:function(t){return e((0,n.publishArticle)(t))},handleClickUpdate:function(t){return e((0,n.putArticle)(t))},fetchData:function(t){return e((0,i.fetchArticleOne)(t))}}},f=(0,s.connect)(u,p)(l.default);t.default=f,a=r("0cfB").default,o=r("0cfB").leaveModule,a&&(a.register(u,"mapStateToProps","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/highorder-articlePublish.js"),a.register(p,"mapDispatchToProps","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/highorder-articlePublish.js"),a.register(f,"default","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articlePublish/highorder-articlePublish.js"),o(e))}).call(this,r("YuTi")(e))},"Zm9/":function(e,t,r){"use strict";(function(e){var c;(c=r("0cfB").enterModule)&&c(e),Object.defineProperty(t,"__esModule",{value:!0}),t.deleteArticleOne=t.fetchArticleOne=void 0,function(){var t=r("0cfB").enterModule;t&&t(e)}();var s=l(r("LpSC")),n=r("Kf89"),i=r("wNa6");function l(e){return e&&e.__esModule?e:{default:e}}var a,o,u=function(e){return{type:"RECEIVE_DETAIL_DATA",item:e,isFetching:!1}},p=function(e){return{type:"DELETE_ARTICLE_SUCCESS"}},f=t.fetchArticleOne=function(e){var t=__API__.articleOnce+e;return function(e){(0,s.default)(t,{method:"GET"}).then(function(e){return e.json()}).then(function(t){e(u(t))}).catch(function(e){})}},d=t.deleteArticleOne=function(e){var t=__API__.articleOnce+e;return function(e){(0,s.default)(t,{method:"DELETE",credentials:"include"}).then(function(e){return e.json()}).then(function(t){t.error?e((0,n.pushInQueue)({info:"No Access",flag:"hint"})):(e((0,n.pushInQueue)({info:"Delete article success",flag:"success"})),e({type:"DELETE_ARTICLE_SUCCESS"}))}).catch(function(t){e((0,n.pushInQueue)({info:"Place check your Internet",flag:"warning"}))})}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1},t=arguments[1];switch(t.type){case"RECEIVE_DETAIL_DATA":return Object.assign({},e,{isFetching:!1,item:t.item});case"DELETE_ARTICLE_SUCCESS":default:return e}};(0,i.addReducer)(h,"articleDetailReducer"),a=r("0cfB").default,o=r("0cfB").leaveModule,a&&(a.register(f,"fetchArticleOne","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articleDetail/data-articleDetail.jsx"),a.register(d,"deleteArticleOne","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articleDetail/data-articleDetail.jsx"),a.register(u,"receiveData","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articleDetail/data-articleDetail.jsx"),a.register(p,"deleteArticleSuccess","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articleDetail/data-articleDetail.jsx"),a.register(h,"articleDetailReducer","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articleDetail/data-articleDetail.jsx"),o(e)),function(){var t=r("0cfB").default,c=r("0cfB").leaveModule;t&&(t.register(s,"_isomorphicFetch2","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articleDetail/data-articleDetail.jsx"),t.register(l,"_interopRequireDefault","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articleDetail/data-articleDetail.jsx"),t.register(u,"receiveData","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articleDetail/data-articleDetail.jsx"),t.register(p,"deleteArticleSuccess","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articleDetail/data-articleDetail.jsx"),t.register(f,"fetchArticleOne","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articleDetail/data-articleDetail.jsx"),t.register(d,"deleteArticleOne","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articleDetail/data-articleDetail.jsx"),t.register(h,"articleDetailReducer","/Users/flyteng/Desktop/workspace/project/slucky/src/component/articleDetail/data-articleDetail.jsx"),c(e))}()}).call(this,r("YuTi")(e))}}]);
//# sourceMappingURL=3.dd86b72be8690f0816c4.js.map