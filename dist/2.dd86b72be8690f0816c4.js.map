{"version":3,"sources":["webpack:///./node_modules/react-transition-group/index.js","webpack:///./src/component/articleDetail/display-articleDetail.jsx","webpack:///./src/component/comment/display-commentShow.jsx","webpack:///./src/component/articleDetail/highorder-articleDetail.js","webpack:///./src/component/comment/display-commentInput.jsx","webpack:///./src/component/comment/data-comment.jsx","webpack:///./src/component/comment/highorder-commentShow.js","webpack:///./src/component/articleDetail/data-articleDetail.jsx","webpack:///./src/component/comment/display-replyInput.jsx","webpack:///./src/component/comment/highorder-commentInput.js"],"names":["_CSSTransitionGroup2","_interopRequireDefault","__webpack_require__","_TransitionGroup2","obj","__esModule","default","module","exports","TransitionGroup","CSSTransitionGroup","_react","a","_","s","_reactCookie","_highorderCommentShow","_highorderCommentInput","_reactMarkdown","_reactTransitionGroup","_moment","_reactHighlight","_server","_reactRouterDom","e","E","t","TypeError","x","ReferenceError","n","C","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","ArticleDetail","props","_classCallCheck","this","_this","_possibleConstructorReturn","getPrototypeOf","call","params","URLSearchParams","location","search","artId","get","Component","handleFetchArticle","_props$item","item","title","id","content","date","_props","handleDeleteClick","isLogined","_react2","createElement","transitionName","transitionAppear","transitionAppearTimeout","transitionEnter","transitionLeave","className","_moment2","format","style","display","Link","to","onClick","_reactHighlight2","innerHTML","ReactDOMServer","_reactMarkdown2","source","_highorderCommentInput2","_highorderCommentShow2","S","m","_displayReplyInput","f","d","y","CommentShow","fetchCommentData","key","_this2","handleReplyPublish","items","map","elem","index","replyInputData","comment_id","src","alt","name","comment","reply","handleDate","htmlFor","type","_displayReplyInput2","data","_reactRedux","_displayArticleDetail","_dataArticleDetail","mapStateToProps","state","articleDetailReducer","loginReducer","mapDispatchToProps","dispatch","fetchArticleOne","deleteArticleOne","connect","l","i","u","p","CommentInput","setState","handlePublishComment","placeholder","onChange","handleCommentChange","bind","viewBox","version","xmlns","_isomorphicFetch","_dataMessage","_store","Array","isArray","r","length","from","receiveDataSuccess","postCommentSuccess","postReplySuccess","requestError","info","article_id","_isomorphicFetch2","__API__","method","then","json","catch","err","pushInQueue","flag","publishComment","arguments","postArtComment","credentials","body","JSON","error","publishReply","postCommentReply","commentReducer","isFetching","action","assign","_selfState","addReducer","h","j","leaveModule","register","_dataComment","_displayCommentShow","commentShow","commentId","receiveData","deleteArticleSuccess","path","ReplyInput","_props$data","handleContentChange","_displayCommentInput"],"mappings":"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","file":"2.dd86b72be8690f0816c4.js","sourcesContent":["'use strict';\n\nvar _CSSTransitionGroup = require('./CSSTransitionGroup');\n\nvar _CSSTransitionGroup2 = _interopRequireDefault(_CSSTransitionGroup);\n\nvar _TransitionGroup = require('./TransitionGroup');\n\nvar _TransitionGroup2 = _interopRequireDefault(_TransitionGroup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  TransitionGroup: _TransitionGroup2.default,\n  CSSTransitionGroup: _CSSTransitionGroup2.default\n};","import React, {\r\n\tComponent,\r\n} from 'react'\r\nimport cookie from 'react-cookie'\r\nimport CommentShow from '../comment/highorder-commentShow.js'\r\nimport CommentInput from '../comment/highorder-commentInput.js'\r\nimport Markdown from 'react-markdown'\r\n// import ReactCSSTransitionGroup from 'react-addons-css-transition-group'\r\nimport { CSSTransitionGroup } from 'react-transition-group'\r\nimport Moment from 'moment';\r\nimport ReactMarkdown from 'react-markdown'\r\nimport Highlight from 'react-highlight'\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// article show in markdown\r\nclass ArticleDetail extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.params = new URLSearchParams(location.search)\r\n\t\tthis.artId = this.params.get('id')\r\n\t\t// console.log(this.params.get('id'), this.props);\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tconsole.log('componentDidMount',this.props)\r\n\t\tconst {\r\n\t\t\thandleFetchArticle\r\n\t\t} = this.props\r\n\t\t// this.artId = this.props.params.id\r\n\t\thandleFetchArticle(this.artId)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tid,\r\n\t\t\ttitle,\r\n\t\t\tcontent,\r\n\t\t\tdate\r\n\t\t} = this.props.item\r\n\t\tconst {\r\n\t\t\thandleDeleteClick,\r\n\t\t\tisLogined\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<CSSTransitionGroup\r\n\t\t\t\t\ttransitionName=\"example\"\r\n\t\t\t\t\ttransitionAppear={true}\r\n\t\t\t\t\ttransitionAppearTimeout={500}\r\n\t\t\t\t\ttransitionEnter={false}\r\n\t\t\t\t\ttransitionLeave={false}>\r\n\t\t\t\t\t<div className=\"markdown-shower-box\">\r\n\t\t\t\t\t\t<div className=\"markdown-shower-banner\">\r\n\t\t\t\t\t\t\t<div className=\"hint-box-nor m16 article-detail-box\">\r\n\t\t\t\t\t\t\t\t<div className=\"article-detail\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"c-theme mr8\">标题:</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"mr24\">{title}</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"c-theme mr8\">日期:</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"mr24\">{Moment(date).format('YYYY-MM-DD HH:mm:ss')}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"article-handle d-f ac\">\r\n\t\t\t\t\t\t\t\t\t<div style={isLogined ? {} : { display: 'none' }} className=\"d-il\"><Link className=\"btn plr16 ptb6 bg-theme c-text-w mr8\" to={`/edit?id=${this.artId}`}>编辑</Link></div>\r\n\t\t\t\t\t\t\t\t\t<button style={isLogined ? {} : { display: 'none' }} className=\"btn plr16 ptb6 bg-fail c-text-w\" onClick={handleDeleteClick.bind(this, this.artId)}>删除</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"markdown-shower-content m16\">\r\n\t\t\t\t\t\t\t{/* <Markdown source={content} /> */}\r\n\t\t\t\t\t\t\t<Highlight innerHTML={true}>\r\n\t\t\t\t\t\t\t\t{ReactDOMServer.renderToStaticMarkup(<ReactMarkdown source={content} />)}\r\n\t\t\t\t\t\t\t</Highlight>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<CommentInput id={this.artId} />\r\n\t\t\t\t\t<CommentShow id={this.artId} />\r\n\t\t\t\t</CSSTransitionGroup>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nArticleDetail.defaultProps = {\r\n\titem: {\r\n\t\tid: \"\",\r\n\t\ttitle: \"\",\r\n\t\tcontent: \"# Loding...\"\r\n\t}\r\n}\r\n\r\nexport default ArticleDetail\r\n","import React, {\r\n\tComponent\r\n} from 'react'\r\nimport ReplyInput from './display-replyInput'\r\nimport Moment from 'moment';\r\n\r\nclass CommentShow extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.artId = this.props.id\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tconst {\r\n\t\t\tfetchCommentData\r\n\t\t} = this.props\r\n\t\tfetchCommentData(this.artId)\r\n\t}\r\n\thandleDate(date) {\r\n\t\t// return (new Date(date)).toLocaleString()\r\n\t\treturn Moment(date).format('YYYY-MM-DD HH:mm:ss')\r\n\t}\r\n\trender() {\r\n\t\tconst {\r\n\t\t\thandleReplyPublish,\r\n\t\t\titems\r\n\t\t} = this.props\r\n\t\t// console.log(\"ITEMS\")\r\n\t\t// console.log(items)\r\n\t\treturn (\r\n\r\n\t\t\t<div>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.props.items.map((elem, index) => {\r\n\t\t\t\t\t\tlet replyInputData = {\r\n\t\t\t\t\t\t\tid: elem.comment_id,\r\n\t\t\t\t\t\t\tindex: index\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t<div className=\"comment-normalize-box bor-b b-side-s plr16 mb16\" key={index}>\r\n\t\t\t\t\t\t\t        <figure className=\"user-info-comment\">\r\n\t\t\t\t\t\t\t            <img src={require(\"../../images/bg_test.jpg\")} alt=\"\" className=\"img-rounded-s bg-tran\"/>\r\n\t\t\t\t\t\t\t            <figcaption className=\"ta-c\">{elem.name}</figcaption>\r\n\t\t\t\t\t\t\t        </figure>\r\n\t\t\t\t\t\t\t        <div className=\"comment-content pl16\">\r\n\t\t\t\t\t\t\t            <p>{elem.comment}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<ul className=\"reply-normalize-box bg-divider-b\" style={elem.reply.length==0?{\"display\":\"none\"}:{}}>\r\n\t\t\t\t\t\t\t\t\t          \t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\telem.reply.map((elem,index)=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                <span className=\"user-info-reply c-theme\">{elem.name}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                <span className=\"mlr4\">:</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                <span className=\"reply-content\">{elem.reply}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t            </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t        </ul>\r\n\t\t\t\t\t\t\t            <div className=\"d-f jc-r ac\">\r\n\t\t\t\t\t\t\t            \t<span className=\"pl8 pr16 fs12 c-icon-b\">{this.handleDate(elem.date)}</span>\r\n\t\t\t\t\t\t\t                <label htmlFor={\"comment-toggle\"+index} className=\"tag-text ptb6 plr16\">回复</label>\r\n\t\t\t\t\t\t\t            </div>\r\n\t\t\t\t\t\t\t            <input type=\"checkbox\" id={\"comment-toggle\"+index} className=\"single-toggle\"/>\r\n\t\t\t\t\t\t\t            <div className=\"single-toggle-target\">\r\n\t\t\t\t\t\t\t                <ReplyInput data={replyInputData} handleReplyPublish={handleReplyPublish}/>\r\n\t\t\t\t\t\t\t            </div>\r\n\t\t\t\t\t\t\t        </div>\r\n\t\t\t\t\t\t\t    </div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCommentShow.defaultProps = {\r\n\titems: []\r\n}\r\n\r\nexport default CommentShow\r\n","import {\r\n    connect\r\n} from 'react-redux';\r\nimport ArticleDetail from './display-articleDetail'\r\nimport {\r\n    fetchArticleOne,\r\n    deleteArticleOne\r\n} from './data-articleDetail'\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        item: state.articleDetailReducer.item,\r\n        isLogined: state.loginReducer.isLogined\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        handleFetchArticle: (id) => dispatch(fetchArticleOne(id)),\r\n        handleDeleteClick: (id) => dispatch(deleteArticleOne(id))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ArticleDetail)\r\n","import React, {\r\n\tComponent\r\n} from 'react'\r\n\r\nclass CommentInput extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.artId = this.props.id\r\n\t\tthis.state = {\r\n\t\t\tcontent: \"\"\r\n\t\t}\r\n\t}\r\n\r\n\thandleCommentChange(e) {\r\n\t\tthis.setState({\r\n\t\t\tcontent: e.target.value\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\thandlePublishComment\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<div className=\"publish-comment-box m16\">\r\n\t\t        <p className=\"pl8 bor-l b-side-s\">评论</p>\r\n\t\t        <textarea name=\"\" id=\"\" className=\"publish-comment-input textarea\" placeholder=\"输入内容。。。。。。\" onChange={this.handleCommentChange.bind(this)}></textarea>\r\n\t\t        <div className=\"publish-comment-tool bg-divider-b\">\r\n\t\t            <div className=\"ta-r\">\r\n\t\t                {/* <button className=\"publish-btn btn btn-normal bg-blue c-text-w\" onClick={handlePublishComment.bind(this,this.artId,this.state.content)}>发表</button> */}\r\n\t\t\t\t\t\t<div className=\"btn p-r ptb6 svgMutiLine plr24 c-theme\" onClick={handlePublishComment.bind(this, this.artId, this.state.content)}>\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\tclassName=\"btn-svgMutiLine\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 180 64\"\r\n\t\t\t\t\t\t\t\tversion=\"1.1\"\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t\t<rect className=\"shape\"></rect>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t<div>发表</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t            </div>\r\n\t\t        </div>\r\n\t\t    </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default CommentInput\r\n","// let state = {\r\n// \tisFetching: bool,\r\n// \treceiveAt: date,\r\n// \titems: [{\r\n// \t\tcomment_id: int,\r\n// \t\tcomment: string,\r\n// \t\tuser_id: int,\r\n// \t\tuser_name: string,\r\n// \t\treply: [{\r\n// \t\t\treply: string,\r\n// \t\t\treply_id: int,\r\n// \t\t\tuser_name: string,\r\n// \t\t\tuser_id: int\r\n// \t\t}]\r\n// \t}]\r\n// }\r\nimport fetch from 'isomorphic-fetch'\r\nimport {\r\n\tpushInQueue\r\n} from '../message/data-message.jsx'\r\nimport {\r\n\taddReducer\r\n} from '../../store'\r\n\r\nconst receiveDataSuccess = (data) => {\r\n\treturn {\r\n\t\ttype: \"RECEIVE_ARTICLE_COMMENT\",\r\n\t\titems: data\r\n\t}\r\n}\r\n\r\nconst postCommentSuccess = (data) => {\r\n\treturn {\r\n\t\ttype: \"POST_COMMENT_SUCCESS\",\r\n\t\titem: data\r\n\t}\r\n}\r\n\r\nconst postReplySuccess = (data) => {\r\n\treturn {\r\n\t\ttype: \"POST_REPLY_SUCCESS\",\r\n\t\titem: data\r\n\t}\r\n}\r\n\r\nconst requestError = (data) => {\r\n\treturn {\r\n\t\ttype: \"REQUEST_ERROR\",\r\n\t\tinfo: data\r\n\t}\r\n}\r\n\r\n// const addComment = (data) => {\r\n// \treturn {\r\n// \t\ttype: \"ADD_COMMENT\",\r\n// \t\titem: data\r\n// \t}\r\n// }\r\n\r\nexport const fetchCommentData = (article_id) => {\r\n\treturn dispatch => {\r\n\t\tfetch(__API__.getArtComment + article_id, {\r\n\t\t\tmethod: 'GET'\r\n\t\t}).then(data => data.json()).then(data => {\r\n\t\t\tconsole.log(data)\r\n\t\t\tdispatch(receiveDataSuccess(data))\r\n\t\t}).catch(err => {\r\n\t\t\tif (err) throw err\r\n\t\t\tdispatch(pushInQueue({\r\n\t\t\t\tinfo: \"Place check your Internet\",\r\n\t\t\t\tflag: \"warning\"\r\n\t\t\t}))\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const publishComment = (data = {\r\n\tarticle_id,\r\n\tcomment\r\n}) => {\r\n\treturn dispatch => fetch(__API__.postArtComment, {\r\n\t\tmethod: 'POST',\r\n\t\tcredentials: \"include\",\r\n\t\tbody: JSON.stringify(data)\r\n\t}).then(data => data.json()).then(data => {\r\n\t\tconsole.log(data)\r\n\t\tif (data.error) {\r\n\t\t\tdispatch(pushInQueue({\r\n\t\t\t\tinfo: \"No Access\",\r\n\t\t\t\tflag: \"hint\"\r\n\t\t\t}))\r\n\t\t} else {\r\n\t\t\tdispatch(pushInQueue({\r\n\t\t\t\tinfo: \"Publish comment success\",\r\n\t\t\t\tflag: \"success\"\r\n\t\t\t}))\r\n\t\t\tdispatch(postCommentSuccess(data))\r\n\t\t}\r\n\t}).catch(err => {\r\n\t\tif (err) throw err\r\n\t\tdispatch(pushInQueue({\r\n\t\t\tinfo: \"Place check your Internet\",\r\n\t\t\tflag: \"warning\"\r\n\t\t}))\r\n\t})\r\n}\r\n\r\nexport const publishReply = (data = {\r\n\tcomment_id,\r\n\treply\r\n}) => {\r\n\tconsole.log(data)\r\n\treturn dispatch => fetch(__API__.postCommentReply, {\r\n\t\tmethod: 'POST',\r\n\t\tcredentials: 'include',\r\n\t\tbody: JSON.stringify(data)\r\n\t}).then(data => data.json()).then(data => {\r\n\t\tconsole.log(data)\r\n\t\tif (data.error) {\r\n\t\t\tdispatch(pushInQueue({\r\n\t\t\t\tinfo: \"请登录后评论\",\r\n\t\t\t\tflag: \"hint\"\r\n\t\t\t}))\r\n\t\t} else {\r\n\t\t\tdispatch(postReplySuccess(data))\r\n\t\t\tdispatch(pushInQueue({\r\n\t\t\t\tinfo: \"Publish reply success\",\r\n\t\t\t\tflag: \"success\"\r\n\t\t\t}))\r\n\t\t}\r\n\t}).catch(err => {\r\n\t\tif (err) throw err\r\n\t\tdispatch(pushInQueue({\r\n\t\t\tinfo: \"Place check your Internet\",\r\n\t\t\tflag: \"warning\"\r\n\t\t}))\r\n\t})\r\n}\r\n\r\nconst commentReducer = (state = {\r\n\tisFetching: false,\r\n\titems: []\r\n}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"RECEIVE_ARTICLE_COMMENT\":\r\n\t\t\treturn Object.assign({}, state, {\r\n\t\t\t\titems: action.items\r\n\t\t\t})\r\n\t\tcase \"POST_COMMENT_SUCCESS\":\r\n\t\t\treturn Object.assign({}, state, {\r\n\t\t\t\titems: [action.item, ...state.items]\r\n\t\t\t})\r\n\t\tcase \"POST_REPLY_SUCCESS\":\r\n\t\t\tvar _selfState = state;\r\n\t\t\t// 对副本进行深层操作\r\n\t\t\tfor (var i = _selfState.items.length - 1; i >= 0; i--) {\r\n\t\t\t\tif (_selfState.items[i].comment_id == action.item.comment_id) {\r\n\t\t\t\t\t_selfState.items[i].reply.push(action.item)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn Object.assign({}, state, {\r\n\t\t\t\titems: [..._selfState.items]\r\n\t\t\t})\r\n\t\tcase \"REQUEST_ERROR\":\r\n\t\t\treturn Object.assign({}, state, {\r\n\t\t\t\tinfo: action.info\r\n\t\t\t})\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\naddReducer(commentReducer,'commentReducer')\r\n","import {\r\n\tconnect\r\n} from 'react-redux'\r\nimport {\r\n\tfetchCommentData,\r\n\tpublishReply\r\n} from './data-comment'\r\nimport commentShow from './display-commentShow'\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\titems: state.commentReducer.items\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tfetchCommentData: (artId) => dispatch(fetchCommentData(artId)),\r\n\t\thandleReplyPublish: (commentId, reply) => {\r\n\t\t\t// console.log(\"ADD REPLY\")\r\n\t\t\tdispatch(publishReply({\r\n\t\t\t\tcomment_id: commentId,\r\n\t\t\t\treply: reply\r\n\t\t\t}))\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(commentShow)\r\n","import fetch from 'isomorphic-fetch'\r\nimport {\r\n\tpushInQueue\r\n} from '../message/data-message.jsx'\r\nimport {\r\n\taddReducer\r\n} from '../../store'\r\n// state={\r\n// \t\ttype:receiveData\r\n// \t\titem:{\r\n// \t\t\tid:num\r\n// \t\t\ttitle:string\r\n// \t\t\tcontent:string\r\n// \t\t}\r\n// }\r\n\r\nconst receiveData = (data) => {\r\n\treturn {\r\n\t\ttype: \"RECEIVE_DETAIL_DATA\",\r\n\t\titem: data,\r\n\t\tisFetching: false\r\n\t}\r\n}\r\n\r\nconst deleteArticleSuccess = (data) => {\r\n\treturn {\r\n\t\ttype: \"DELETE_ARTICLE_SUCCESS\"\r\n\t}\r\n}\r\n\r\nexport const fetchArticleOne = (id) => {\r\n\tlet path = __API__.articleOnce + id\r\n\treturn (dispatch) => {\r\n\t\tfetch(path, {\r\n\t\t\tmethod: \"GET\"\r\n\t\t}).then(data => data.json()).then(data => {\r\n\t\t\tconsole.log(data)\r\n\t\t\tdispatch(receiveData(data))\r\n\t\t}).catch(err => {\r\n\t\t\tconsole.log(\"err\")\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const deleteArticleOne = (id) => {\r\n\tlet path = __API__.articleOnce + id\r\n\treturn (dispatch) => {\r\n\t\tfetch(path, {\r\n\t\t\tmethod: \"DELETE\",\r\n\t\t\tcredentials: 'include'\r\n\t\t}).then(data => data.json()).then(data => {\r\n\t\t\tconsole.log(data)\r\n\t\t\tif (data.error) {\r\n\t\t\t\tdispatch(pushInQueue({\r\n\t\t\t\t\tinfo: \"No Access\",\r\n\t\t\t\t\tflag: \"hint\"\r\n\t\t\t\t}))\r\n\t\t\t} else {\r\n\t\t\t\tdispatch(pushInQueue({\r\n\t\t\t\t\tinfo: \"Delete article success\",\r\n\t\t\t\t\tflag: \"success\"\r\n\t\t\t\t}))\r\n\t\t\t\tdispatch(deleteArticleSuccess(data))\r\n\t\t\t}\r\n\t\t}).catch(err => {\r\n\t\t\tconsole.log(\"err\")\r\n\t\t\tdispatch(pushInQueue({\r\n\t\t\t\tinfo: \"Place check your Internet\",\r\n\t\t\t\tflag: \"warning\"\r\n\t\t\t}))\r\n\t\t})\r\n\t}\r\n}\r\n\r\nconst articleDetailReducer = (state = {\r\n\tisFetching: false\r\n}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"RECEIVE_DETAIL_DATA\":\r\n\t\t\tconsole.log(\"articleDetailReducer\")\r\n\t\t\treturn Object.assign({}, state, {\r\n\t\t\t\tisFetching: false,\r\n\t\t\t\titem: action.item\r\n\t\t\t})\r\n\t\tcase \"DELETE_ARTICLE_SUCCESS\":\r\n\t\t\treturn state\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\naddReducer(articleDetailReducer,'articleDetailReducer')\r\n","import React, {\r\n\tComponent\r\n} from 'react'\r\n\r\nclass ReplyInput extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tcontent: \"\"\r\n\t\t}\r\n\t}\r\n\r\n\thandleContentChange(e) {\r\n\t\tthis.setState({\r\n\t\t\tcontent: e.target.value\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\thandleReplyPublish\r\n\t\t} = this.props\r\n\t\tconst {\r\n\t\t\tid,\r\n\t\t\tindex\r\n\t\t} = this.props.data\r\n\t\treturn (\r\n\t\t\t<div className=\"publish-comment-box m16\">\r\n\t\t\t\t<textarea onChange={this.handleContentChange.bind(this)} className=\"publish-comment-input textarea\" placeholder=\"输入内容。。。。。。\"></textarea>\r\n\t\t\t\t<div className=\"publish-comment-tool bg-divider-b\">\r\n\t\t\t\t    <div>\r\n\t\t\t\t        <label htmlFor={\"comment-toggle\"+index} className=\"btn plr8 c-hint-b\">关闭</label>\r\n\t\t\t\t    </div>\r\n\t\t\t\t    <div className=\"ta-r\">\r\n\t\t\t\t\t\t<button className=\"tag-text plr16 ptb6 mt6\" onClick={handleReplyPublish.bind(this,id,this.state.content)}>确认</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default ReplyInput\r\n","import {\r\n\tconnect\r\n} from 'react-redux'\r\nimport {\r\n\tpublishComment\r\n} from './data-comment'\r\nimport CommentInput from './display-commentInput'\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\thandlePublishComment: (artId, content) => dispatch(publishComment({\r\n\t\t\tarticle_id: artId,\r\n\t\t\tcomment: content\r\n\t\t}))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CommentInput)\r\n"],"sourceRoot":""}