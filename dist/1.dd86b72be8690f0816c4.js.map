{"version":3,"sources":["webpack:///./src/component/register/data-register.jsx","webpack:///./src/component/register/display-validSearchInput.jsx","webpack:///./src/component/lib/validator.js","webpack:///./src/component/register/highorder-register.jsx","webpack:///./src/component/register/display-register.jsx","webpack:///./src/component/register/display-validInput.jsx"],"names":["_isomorphicFetch","__webpack_require__","_dataMessage","_store","l","e","__esModule","default","state","verifyEmailSuccess","data","type","info","registerSuccess","verifyEmail","dispatch","pushInQueue","flag","_isomorphicFetch2","__API__","postVerifyEmail","method","credentials","body","JSON","then","json","error","catch","err","register","postRegister","registerReducer","arguments","length","action","Object","assign","addReducer","g","r","y","leaveModule","_react","i","a","c","t","TypeError","u","ReferenceError","s","p","prototype","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","validSearchInput","Component","isValid","initial","trigger","_props","this","props","handleInputChange","name","placeholder","btnText","handleBtnClick","_react2","createElement","className","htmlFor","style","handleValid","borderColor","id","onChange","maxLength","required","onClick","opacity","str","message","validator","config","types","result","getConfig","validate","x","hasOwnProperty","val","res","validateOne","checkerList","key","map","index","call","instruction","push","bind","isSubmit","isEmpty","isName","test","isEmail","isPw","isPwAgain","password","isValidString","isNaN","o","_reactRedux","_displayRegister","_dataRegister","mapStateToProps","mapDispatchToProps","handleVerifyCodeSend","email","registerConfirm","connect","Register","m","_validator","_displayValidInput","_displayValidSearchInput","_reactAddonsCssTransitionGroup","h","k","v","_classCallCheck","_this","_possibleConstructorReturn","getPrototypeOf","emailVerifyCode","passwordAgain","tar","setState","_reactAddonsCssTransitionGroup2","transitionName","transitionAppear","transitionAppearTimeout","transitionEnter","transitionLeave","viewBox","version","xmlns","_displayValidSearchInput2","handleEmailSend","_displayValidInput2","handleFormConfirm","ValidInput"],"mappings":"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","file":"1.dd86b72be8690f0816c4.js","sourcesContent":["// let state = {\r\n// \tverifyEmail: \"\",\r\n// \tinfo: \"\"\r\n// }\r\nimport fetch from 'isomorphic-fetch'\r\nimport {\r\n\tpushInQueue\r\n} from '../message/data-message'\r\nimport {\r\n\taddReducer\r\n} from '../../store'\r\n\r\nconst verifyEmailSuccess = (data) => {\r\n\treturn {\r\n\t\ttype: \"VERIFY_EMAIL_SUCCESS\",\r\n\t\tinfo: data\r\n\t}\r\n}\r\n\r\nconst registerSuccess = (data) => {\r\n\treturn {\r\n\t\ttype: \"REGISTER_SUCCESS\",\r\n\t\tinfo: data\r\n\t}\r\n}\r\n\r\nexport const verifyEmail = (data) => {\r\n\treturn dispatch => {\r\n\t\tdispatch(pushInQueue({\r\n\t\t\tinfo: \"邮件发送中\",\r\n\t\t\tflag: \"hint\"\r\n\t\t}))\r\n\t\tfetch(__API__.postVerifyEmail, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tcredentials: \"include\",\r\n\t\t\tbody: JSON.stringify(data)\r\n\t\t}).then(data => data.json()).then(data => {\r\n\t\t\tconsole.log(data)\r\n\t\t\tif (data.error) {\r\n\t\t\t\tdispatch(pushInQueue({\r\n\t\t\t\t\tinfo: \"请确认邮箱是否正确或请查看邮箱里的验证码\",\r\n\t\t\t\t\tflag: \"hint\"\r\n\t\t\t\t}))\r\n\t\t\t} else {\r\n\t\t\t\tdispatch(verifyEmailSuccess(data))\r\n\t\t\t\tdispatch(pushInQueue({\r\n\t\t\t\t\tinfo: \"发送成功，请查看邮箱里的验证码\",\r\n\t\t\t\t\tflag: \"success\"\r\n\t\t\t\t}))\r\n\r\n\t\t\t}\r\n\t\t}).catch(err => {\r\n\t\t\tif (err) throw err\r\n\t\t\tdispatch(pushInQueue({\r\n\t\t\t\tinfo: \"请网络检查网络连接\",\r\n\t\t\t\tflag: \"warning\"\r\n\t\t\t}))\r\n\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const register = (data) => {\r\n\tconsole.log(\"REGISTER\")\r\n\tconsole.log(data)\r\n\treturn dispatch => fetch(__API__.postRegister, {\r\n\t\tmethod: 'POST',\r\n\t\tcredentials: \"include\",\r\n\t\tbody: JSON.stringify(data)\r\n\t}).then(data => data.json()).then(data => {\r\n\t\tconsole.log(data)\r\n\t\tif (data.error) {\r\n\t\t\tdispatch(pushInQueue({\r\n\t\t\t\tinfo: data.error,\r\n\t\t\t\tflag: \"hint\"\r\n\t\t\t}))\r\n\t\t} else {\r\n\t\t\tdispatch(registerSuccess(data))\r\n\t\t\tdispatch(pushInQueue({\r\n\t\t\t\tinfo: \"恭喜，注册成功\",\r\n\t\t\t\tflag: \"success\"\r\n\t\t\t}))\r\n\r\n\t\t\t// window.location.href = \"http://www.brandf.cn/\"\r\n\t\t}\r\n\t}).catch(err => {\r\n\t\tif (err) throw err\r\n\t\tdispatch(pushInQueue({\r\n\t\t\tinfo: \"请网络检查网络连接\",\r\n\t\t\tflag: \"warning\"\r\n\t\t}))\r\n\r\n\t})\r\n}\r\n\r\nconst registerReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"VERIFY_EMAIL_SUCCESS\":\r\n\t\t\treturn Object.assign({}, state, {\r\n\t\t\t\tinfo: action.info\r\n\t\t\t})\r\n\t\tcase \"REGISTER_SUCCESS\":\r\n\t\t\treturn Object.assign({}, state, {\r\n\t\t\t\tinfo: action.info\r\n\t\t\t})\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\naddReducer(registerReducer, 'registerReducer')\r\n","import React, {\r\n\tComponent\r\n} from 'react'\r\n\r\nclass validSearchInput extends Component {\r\n\thandleValid(isValid, initial, trigger) {\r\n\t\tif (isValid || isValid === undefined) return initial\r\n\t\telse return trigger\r\n\t}\r\n\trender() {\r\n\t\tconst {\r\n\t\t\thandleInputChange,\r\n\t\t\tdata,\r\n\t\t\tname,\r\n\t\t\tplaceholder,\r\n\t\t\tbtnText,\r\n\t\t\thandleBtnClick\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<div className=\"input\">\r\n\t\t        <label htmlFor={name+\"register\"} className=\"fs12 c-grey\">{name}</label>\r\n\t\t\t    <br/>\r\n\t\t\t\t<div className=\"search-box-normalize p-r\" style={this.handleValid(data.isValid,{'borderColor':'rgba(0, 0, 0, 0.12)'},{'borderColor':'#e74c3c'})}>\r\n\t\t\t\t    <input id={name+\"register\"} onChange={handleInputChange} type=\"email\" className=\"input input-normal w288\" placeholder={placeholder} maxLength=\"24\" required/>\r\n\t\t\t\t    <button type=\"button\" className=\"btn-n ptb6 plr16 search-btn\" onClick={handleBtnClick}>{btnText}</button>\r\n\t\t\t\t</div>\t\t            \r\n\t\t\t\t<br/>\r\n\t\t\t    <span className=\"input-ps fs12\" style={this.handleValid(data.isValid,{'opacity':'0'},{'opacity':'1'})}>{data.message.map((str)=>(str+\" \"))}</span>\r\n\t\t    </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nvalidSearchInput.defaultProps = {\r\n\tdata: {\r\n\t\tmessage: []\r\n\t}\r\n}\r\n\r\nexport default validSearchInput\r\n","// var data = {\n// \tname: test,\n// \tpw: 123,\n// \temail: \"asd@qq.com\"\n// }\n\n// vaildator.config = {\n// \tname: ['isNum'],\n// \tpw: ['isPw'],\n// \temail: ['isEmail']\n// }\n\n// validator.validate(data)\n\nvar validator = {\n\t\tconfig: {},\n\t\ttypes: {},\n\t\tresult: {},\n\t\tdata: {},\n\t\tgetConfig: function() {\n\t\t\treturn this.config\n\t\t},\n\t\tvalidate: function(data) {\n\t\t\tconsole.log(data)\n\t\t\tconsole.log(this.config)\n\t\t\tthis.data = data\n\t\t\tthis.result = {};\n\t\t\tfor (var x in data) {\n\t\t\t\tif (data.hasOwnProperty(x)) {\n\t\t\t\t\tvar val = data[x]\n\t\t\t\t\tvar res = this.validateOne(x, val)\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\tthis.result[x] = res\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconsole.log(this.result)\n\t\t\treturn this.result\n\t\t},\n\t\tvalidateOne: function(x, val) {\n\t\t\tvar checkerList = this.config[x]\n\t\t\tif (!checkerList) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tvar result = {\n\t\t\t\tkey: x,\n\t\t\t\tisValid: true,\n\t\t\t\tmessage: []\n\t\t\t}\n\n\t\t\t// 遍历检查器\n\t\t\tcheckerList.map(function(name, index) {\n\t\t\t\tvar checker = this.types[name].validate\n\n\t\t\t\t// 只处理非法的情况\n\t\t\t\tif (!checker.call(this, val)) {\n\t\t\t\t\tvar instruction = this.types[name].instruction\n\t\t\t\t\tresult.isValid = false\n\t\t\t\t\tresult.message.push(instruction)\n\t\t\t\t}\n\t\t\t}.bind(this))\n\t\t\treturn result\n\t\t},\n\t\t// 最终验证\n\t\tisSubmit: function() {\n\t\t\tfor (var x in this.config) {\n\t\t\t\tif (this.result[x] == undefined || !this.result[x].isValid) return false\n\t\t\t}\n\t\t\treturn true\n\t\t}\n\t}\n\t// 检查处理器\nvalidator.types.isEmpty = {\n\tvalidate: function(value) {\n\t\treturn value !== \"\"\n\t},\n\tinstruction: \"不能为空\"\n}\n\nvalidator.types.isName = {\n\tvalidate: function(value) {\n\t\treturn /^[\\u4E00-\\u9FA5A-Za-z0-9_]{1,10}$/.test(value)\n\t},\n\tinstruction: \"十个字以内，不能包含特殊字符\"\n}\n\nvalidator.types.isEmail = {\n\tvalidate: function(value) {\n\t\treturn /^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/.test(value)\n\t},\n\tinstruction: \"邮箱格式不正确\"\n}\n\nvalidator.types.isPw = {\n\tvalidate: function(value) {\n\t\treturn /^[!@#$%^&*_A-Za-z0-9]{8,15}$/.test(value)\n\t},\n\tinstruction: \"由数组，字母，_@#$等组成，不少于8位\"\n}\n\nvalidator.types.isPwAgain = {\n\tvalidate: function(value) {\n\t\tconsole.log(this)\n\t\tif (this.data.password)\n\t\t\treturn this.data.password == value\n\t\telse return false\n\t},\n\tinstruction: \"重复输入的密码不相同\"\n}\n\nvalidator.types.isValidString = {\n\tvalidate: function(value) {\n\t\treturn !isNaN(value)\n\t},\n\tinstruction: \"invail Number value\"\n}\n\nexport default validator\n\n// {\n// \tname: {\n// \t\tkey: name,\n// \t\tisValid: true,\n// \t\tmessage: []\n// \t}\n// }","import {\r\n\tconnect\r\n} from 'react-redux'\r\nimport Register from './display-register.jsx'\r\nimport {\r\n\tverifyEmail,\r\n\tregister\r\n} from './data-register.jsx'\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {}\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\thandleVerifyCodeSend: (email) => dispatch(verifyEmail({\r\n\t\t\temail: email\r\n\t\t})),\r\n\t\tregisterConfirm: (data) => dispatch(register(data))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Register)\r\n","import React, {\r\n\tComponent\r\n} from 'react'\r\nimport validator from '../lib/validator.js'\r\nimport ValidInput from './display-validInput.jsx'\r\nimport ValidSearchInput from './display-validSearchInput.jsx'\r\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group'\r\n\r\nclass Register extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tdata: {\r\n\t\t\t\temail: \"\",\r\n\t\t\t\temailVerifyCode: \"\",\r\n\t\t\t\tname: \"\",\r\n\t\t\t\tpassword: \"\",\r\n\t\t\t\tpasswordAgain: \"\"\r\n\t\t\t},\r\n\t\t\tresult: {}\r\n\t\t}\r\n\t\tvalidator.config = {\r\n\t\t\temail: ['isEmpty', 'isEmail'],\r\n\t\t\temailVerifyCode: ['isEmpty'],\r\n\t\t\tname: ['isName', 'isEmpty'],\r\n\t\t\tpassword: ['isEmpty', 'isPw'],\r\n\t\t\tpasswordAgain: ['isEmpty', 'isPwAgain']\r\n\t\t}\r\n\t\tthis.registerConfirm = this.props.registerConfirm.bind(this)\r\n\t\tthis.handleVerifyCodeSend = this.props.handleVerifyCodeSend.bind(this)\r\n\t}\r\n\thandleInputChange(key, e) {\r\n\t\tlet tar = this.state.data\r\n\t\ttar[key] = e.target.value\r\n\t\tthis.setState({\r\n\t\t\tdata: tar\r\n\t\t})\r\n\t}\r\n\thandleFormConfirm(e) {\r\n\t\te.preventDefault()\r\n\t\tvar data = this.state.data\r\n\t\tvar result = validator.validate(data)\r\n\t\tthis.setState({\r\n\t\t\tresult: result\r\n\t\t})\r\n\t\tconsole.log(this.state.result)\r\n\t\tif (validator.isSubmit()) {\r\n\t\t\tthis.registerConfirm(this.state.data)\r\n\t\t}\r\n\t}\r\n\thandleEmailSend() {\r\n\t\tvar email = this.state.data.email\r\n\t\tvar res = validator.validateOne('email', email)\r\n\t\tthis.setState({\r\n\t\t\tresult: {\r\n\t\t\t\temail: res\r\n\t\t\t}\r\n\t\t})\r\n\t\tif (res.isValid) {\r\n\t\t\tthis.handleVerifyCodeSend(email)\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"d-f jc ptb128\">\r\n\t\t\t\t{/* <div className=\"register-mark\"></div> */}\r\n\t\t\t\t<ReactCSSTransitionGroup\r\n\t\t\t\t\t\t\t\ttransitionName=\"example\"\r\n\t\t\t\t\t\t\t\ttransitionAppear={true}\r\n\t\t\t\t\t\t\t\ttransitionAppearTimeout={500}\r\n\t\t\t\t\t\t\t\ttransitionEnter={false}\r\n\t\t\t\t\t\t\t\ttransitionLeave={false}>\r\n\t\t\t\t\t<form className=\"paper p32 register-item svgMutiLine p-r\" key=\"registerForm\">\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\tclassName=\"btn-svgMutiLine\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 240 360\"\r\n\t\t\t\t\t\t\tversion=\"1.1\"\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t<rect className=\"shape\"></rect>\r\n    \t\t\t\t\t</svg>\r\n\t\t\t\t\t\t<p className=\"ta-c mb4 mt0\"><strong>注册</strong></p>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<ValidSearchInput btnText=\"发送\" handleInputChange={this.handleInputChange.bind(this,'email')} handleBtnClick={this.handleEmailSend.bind(this)} name='邮箱' placeholder=\"\r\n\t\t\t\t\t\t常用邮箱\" data={this.state.result['email']}/>\r\n\t\t\t\t        <br/>\r\n\r\n\t\t\t\t\t\t<ValidInput handleInputChange={this.handleInputChange.bind(this,'emailVerifyCode')} name='验证码' placeholder=\"\r\n\t\t\t\t\t\t输入邮箱里的验证码\" data={this.state.result['emailVerifyCode']}/>\r\n\t\t\t\t        <br/>\r\n\r\n\t\t\t\t        <ValidInput handleInputChange={this.handleInputChange.bind(this,'name')} name='昵称' placeholder=\"\r\n\t\t\t\t\t\t不能含有标点\" data={this.state.result['name']}/>\r\n\t\t\t\t        <br/>\r\n\r\n\r\n\t\t\t\t        <ValidInput handleInputChange={this.handleInputChange.bind(this,'password')} name='密码' placeholder=\"\r\n\t\t\t\t\t\t由数组或字母组成\" data={this.state.result['password']}/>\r\n\t\t\t\t        <br/>\r\n\r\n\t\t\t\t        <ValidInput handleInputChange={this.handleInputChange.bind(this,'passwordAgain')} name='再次确认密码' placeholder=\"\r\n\t\t\t\t\t\t要跟楼上一样\" data={this.state.result['passwordAgain']}/>\r\n\t\t\t\t        <br/>\r\n\r\n\t\t\t\t        <div className=\"ta-c pt16\">\r\n\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn-n plr32 ptb6\" onClick={this.handleFormConfirm.bind(this)}>确认</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</ReactCSSTransitionGroup>\r\n\t\t\t</div>\r\n\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Register\r\n","import React, {\n\tComponent,\n\tPropTypes\n} from 'react'\n\nclass ValidInput extends Component {\n\n\thandleValid(isValid, initial, trigger) {\n\t\tif (isValid || isValid === undefined) return initial\n\t\telse return trigger\n\t}\n\trender() {\n\t\tconst {\n\t\t\thandleInputChange,\n\t\t\tdata,\n\t\t\tname,\n\t\t\tplaceholder\n\t\t} = this.props\n\t\treturn (\n\t\t\t<div className=\"input pt8\">\n\t\t\t\t<label htmlFor={name+\"register\"} className=\"fs12 c-grey\">{name}</label>\n\t\t\t    <br/>\n\t\t        <input id={name+\"register\"} onChange={handleInputChange} type=\"text\" className=\"input-normal w288\"  placeholder={placeholder} maxLength=\"32\" style={this.handleValid(data.isValid,{'borderColor':'rgba(0, 0, 0, 0.12)'},{'borderColor':'#e74c3c'})} required/>\n\t\t\t    <br/>\n\t\t\t    <span className=\"input-ps fs12\" style={this.handleValid(data.isValid,{'opacity':'0'},{'opacity':'1'})}>{data.message.map((str)=>(str+\" \"))}</span>\n\t        </div>\n\t\t)\n\t}\n}\n\nValidInput.defaultProps = {\n\tdata: {\n\t\tmessage: []\n\t}\n}\n\nexport default ValidInput"],"sourceRoot":""}